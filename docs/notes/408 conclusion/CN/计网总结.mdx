---
title: 📖计网总结
sidebar_position: 1
---

## 物理层
### 1、数据传输率的计算
-	波特率：每秒传输码元的速率
-	W    ：理想低通信道带宽
-	信噪比：$信噪比(dB=)10log_{10}{\frac{S}{N}}$ 

-	利用波特率计算： $数据传输率=波特率 \times log_{2}{(码元种类数)}$
-	**奈奎斯特定理**： $数据传输率=2W \times log_{2}{(码元种类数)}$
-	**香农定理**： $数据传输率=W \times log_{2}{(1+\frac{S}{N})}$

### 码元种类
- **“重点考点”** 以太网 使用**曼彻斯特编码**（前高后低为1）
## 数据链路层
### 1、MAC协议TODO
-	CSMA
    -	1-坚持CSMA
    -	非坚持CSMA
    -	P-坚持CSMA
-	CSMA/CD协议

-	CSMA/CA协议

### 2、以太网交换机

交换方式

- 直通式交换(201-38年)：交换机只检查帧的**目的地址字段**(**6B**)，其余帧部分**不占用**端口速率。传输速度极快，但是不安全
- 存储转发式：先将帧整个接受并缓存，检查无误再转发。这种方式可靠性高，但是传输速度较慢

转发规则

- 若转发表有目的MAC地址，则按照对应端口转发，若没有目的MAC信息，则转发广播帧[^1]

>[^1]: 这里有一个**易错点**，当转发广播帧的时候，既然转发表有的MAC地址信息不是目的MAC，那么广播帧也要发送到那个非目的MAC的端口，简而言之，广播转发就是除了发送端口以外的所有端口都要转发。
>
>![](https://skywalkerch-1303839378.cos.ap-nanjing.myqcloud.com/202310312338674.jpg)

### 3、两种传输服务辨析
![](https://skywalkerch-1303839378.cos.ap-nanjing.myqcloud.com/202311122238292.svg)



## 网络层

### 1、基于IP/TCP/UDP的特殊网络层协议
-	BGP：边界网关协议，基于TCP
-	RIP：距离向量路由协议，基于UDP
-	ICMP：IP层协议
### 路由器匹配IP地址 
最长掩码优先匹配 ！
## 传输层

### 传输层的共同特点

- 提供多路复用/多路分用服务;**注意：**真题考过多路分用（多路分解实现），多路分用是靠读取封装在数据包中的**目的端口**来实现分解的。

  ![](https://skywalkerch-1303839378.cos.ap-nanjing.myqcloud.com/202310312343426.png)

- 为两个主机提供应用进程间的通信（传输层是自上而下第一个提供端到端通信的协议）

![img](https://pic1.zhimg.com/80/v2-1018097e053678dabd150e2785e95660_720w.webp?source=1940ef5c)
- 差错检测，对首部和数据部分进行差错检测
- 提供TCP和UDP协议
### UDP

#### UDP的特点

- UDP 是无连接的；
- UDP 使用尽最大努力交付，即不保证可靠交付；提供差错检验，但只检查头部，不能保证数据的可靠传输
- UDP 是面向报文的；
- UDP也支持**全双工通信**。
- UDP 没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如 直播，实时视频会议等）；
- UDP 支持一对一、一对多、多对一和多对多的交互通信；
- UDP 的首部开销小，只有8个字节，比TCP的20个字节的首部要短。

### TCP

#### TCP的特点

- TCP 是面向连接的。（就好像打电话一样，通话前需要先拨号建立连接，通话结束后要挂机释放连接）；
- 每一条 TCP 连接只能有两个端点，每一条TCP连接只能是点对点的（一对一）；
- TCP **提供可靠交付**的服务。通过TCP连接传送的数据，**无差错、不丢失、不重复、并且按序到达**；
- TCP **提供全双工通信**。TCP 允许通信双方的应用进程在任何时候都能发送数据。TCP 连接的两端都设有发送缓存和接收缓存，用来临时存放双方通信的数据；
- 面向**字节流**（非报文）。TCP 中的“流”（Stream）指的是流入进程或从进程流出的字节序列。“面向字节流”的含义是：虽然应用程序和 TCP 的交互是一次一个数据块（大小不等），但 TCP 把应用程序交下来的数据仅仅看成是一连串的无结构的字节流。

## 应用层

### 电子邮件协议

![](https://skywalkerch-1303839378.cos.ap-nanjing.myqcloud.com/202310292233910.png)

SMPT
-	属于C/S模式（发邮件为SMTP客户，接受邮件为SMTP服务器）
-	基于TCP，端口号25
-	仅支持**7bit的ASCII码**内容

POP3
-	采用“拉”的通信方式，用户使用POP3协议将邮件从服务器 “拉”过来
-	基于TCP 端口110
-	两种工作方式：下载并保留，下载并删除（保留删除说的是邮件在服务器上的保留和删除）

> hotmail Gmail这种电子邮件的特点是 用户通过用户浏览器来和邮件服务器进行发送接收，这个过程使用HTTP协议，仅当不同邮件服务器之间传送邮件时才使用SMTP协议

